<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin>
    <!-- Unique identifier of the plugin. It should be FQN. It cannot be changed between the plugin versions. -->
    <id>kr.jaehoyi.gdshader</id>

    <!-- Public plugin name should be written in Title Case.
         Guidelines: https://plugins.jetbrains.com/docs/marketplace/plugin-overview-page.html#plugin-name -->
    <name>GDShader</name>

    <!-- A displayed Vendor name or Organization ID displayed on the Plugins Page. -->
    <vendor url="https://www.jaehoyi.kr">Jaeho Yi</vendor>

    <!-- Description of the plugin displayed on the Plugin Page and IDE Plugin Manager.
         Guidelines: https://plugins.jetbrains.com/docs/marketplace/plugin-overview-page.html#plugin-description -->
    <description>
        <![CDATA[
            Adds support for GDShader (Godot Shading Language) for Godot 4.0+.<br />
            <ul>
                <li>Syntax highlighting</li>
                <li>Indexing of .gdshader files for file search</li>
            </ul>
        ]]>
    </description>

    <!-- Product and plugin compatibility requirements.
         Read more: https://plugins.jetbrains.com/docs/intellij/plugin-compatibility.html -->
    <depends>com.intellij.modules.platform</depends>

    <!-- Extension points defined by the plugin.
         Read more: https://plugins.jetbrains.com/docs/intellij/plugin-extension-points.html -->
    <extensions defaultExtensionNs="com.intellij">
        
        <fileType
            name="GDShader File"
            implementationClass="kr.jaehoyi.gdshader.GDShaderFileType"
            fieldName="INSTANCE"
            language="GDShader"
            extensions="gdshader" />
        
        <lang.parserDefinition
            language="GDShader"
            implementationClass="kr.jaehoyi.gdshader.GDShaderParserDefinition" />
        
        <lang.syntaxHighlighterFactory
            language="GDShader"
            implementationClass="kr.jaehoyi.gdshader.GDShaderSyntaxHighlighterFactory" />
        
        <colorSettingsPage
            implementation="kr.jaehoyi.gdshader.GDShaderColorSettingsPage" />
        
        <projectViewNestingRulesProvider implementation="kr.jaehoyi.gdshader.GDShaderNestingRulesProvider" />
        
        <!-- File Templates -->
        <internalFileTemplate name="Spatial" />
        <internalFileTemplate name="Canvas Item" />
        <internalFileTemplate name="Particles" />
        <internalFileTemplate name="Sky" />
        <internalFileTemplate name="Fog" />
        
    </extensions>
    
    <actions>
        
        <action
            id="GDShader.NewFile"
            text="GDShader File"
            description="Create a new GDShader file"
            class="kr.jaehoyi.gdshader.actions.GDShaderNewFileAction"
            icon="kr.jaehoyi.gdshader.GDShaderIcons.FILE">
            <add-to-group group-id="NewGroup" anchor="before" relative-to-action="NewFile" />
        </action>
        
    </actions>
</idea-plugin>